(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{35:function(e,t,a){},36:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(27),r=a.n(i),l=(a(35),a(9)),c=a(10),o=a(8),d=a(13),p=a(12),h=(a(36),a(63)),j=a(66),u=a(62),b=a(64),m=a(30),v=a(28),O=a(65),x=a(61),y=a(29),g=a(1),C=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e="main"===this.props.type;return Object(g.jsxs)(O.a,{className:"text-left",children:[Object(g.jsx)(O.a.Group,{children:Object(g.jsxs)(x.a,{className:"mb-3",children:[Object(g.jsx)(x.a.Prepend,{children:Object(g.jsx)(x.a.Text,{id:"inputGroup-sizing-default",children:"Name"})}),Object(g.jsx)(y.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",id:"name",placeholder:"Enter your name",value:this.props.name,onChange:this.props.onNameChange})]})}),Object(g.jsxs)(O.a.Group,{as:m.a,controlId:"formGridState",children:[Object(g.jsx)(O.a.Label,{children:"Type"}),Object(g.jsxs)(O.a.Control,{as:"select",defaultValue:e,onChange:this.props.onTypeChange,children:[Object(g.jsx)("option",{id:"mainRadio",name:"typeRadio",value:"main",children:"Main"}),Object(g.jsx)("option",{id:"sideRadio",name:"typeRadio",value:"side",children:"Side"})]})]}),Object(g.jsx)(O.a.Group,{children:Object(g.jsxs)(x.a,{className:"mb-3",children:[Object(g.jsx)(x.a.Prepend,{children:Object(g.jsx)(x.a.Text,{id:"inputGroup-sizing-default",children:"Color"})}),Object(g.jsxs)("div",{className:"colorPicker",children:[Object(g.jsx)("input",{type:"color",value:this.props.value,onChange:this.props.onChange}),Object(g.jsx)("input",{type:"text",value:this.props.value,onChange:this.props.onChange})]})]})}),Object(g.jsx)(j.a,{variant:"primary",type:"sumbit",onClick:this.props.onSaveClick,children:"Save"})]})}}]),a}(s.a.Component),f=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return Object(g.jsxs)("table",{className:"table table-bordered",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"id"}),Object(g.jsx)("th",{children:"name"}),Object(g.jsx)("th",{children:"type"}),Object(g.jsx)("th",{children:"color"})]})}),Object(g.jsx)("tbody",{children:this.props.peoples.map((function(t,a){return Object(g.jsxs)("tr",{className:"p-4","data-index":a,onClick:e.props.openEditor,children:[Object(g.jsxs)("td",{className:"index",children:[" ",a," "]}),Object(g.jsxs)("td",{children:[" ",t.name," "]}),Object(g.jsxs)("td",{children:[" ",t.type," "]}),Object(g.jsxs)("td",{children:[" ",t.value," "]})]},a)}))})]})}}]),a}(s.a.Component),k=a(15),N=a.n(k),S=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).save=n.save.bind(Object(o.a)(n)),n.openEditor=n.openEditor.bind(Object(o.a)(n)),n.onNameChange=n.onNameChange.bind(Object(o.a)(n)),n.onColorChange=n.onColorChange.bind(Object(o.a)(n)),n.onTypeChange=n.onTypeChange.bind(Object(o.a)(n)),n.deleteEmployer=n.deleteEmployer.bind(Object(o.a)(n)),n.state={peoples:[],name:"",type:"main",value:"#000000",editedId:-1},n.emptyPeople={name:n.state.name,type:"main",value:"#000000"},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("peoples");console.log("localStorageRef",e),this.getUsers()}},{key:"openEditor",value:function(e){var t,a=e.target.getAttribute("data-index")||N()(e.target).closest("tr").attr("data-index"),n=parseInt(a);N()(".table tr").removeClass("active"),-1!==n?(N()(e.target).closest("tr").addClass("active"),t=this.state.peoples[n]):t=this.emptyPeople,this.setState({type:t.type,name:t.name,value:t.value,editedId:n})}},{key:"deleteEmployer",value:function(e){var t;e.preventDefault(),N()(".table tr").removeClass("active"),-1!==this.state.editedId?((t=this.state.peoples).splice(this.state.editedId,1),this.setState({peoples:t,editedId:-1})):alert("\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u043e\u043b\u0435 \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f!")}},{key:"onNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"onTypeChange",value:function(e){this.setState({type:e.target.value})}},{key:"onColorChange",value:function(e){this.setState({value:e.target.value})}},{key:"getUsers",value:function(){var e=this;v.get("./assets/default_data.json").then((function(t){e.setState({peoples:t.data.table})})).catch((function(e){}))}},{key:"save",value:function(e){e.preventDefault(),N()(".table tr").removeClass("active");var t={name:this.state.name,type:this.state.type,value:this.state.value},a=this.state.peoples;if(-1===this.state.editedId){if(""===this.state.name)return void alert("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f!");if(a.filter((function(e){return e.name===t.name})).length>0)return void alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442!");a.push(t),this.state.name="",localStorage.setItem("peoples",JSON.stringify(t))}else a[this.state.editedId]=t;this.setState({peoples:a})}},{key:"render",value:function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)("h1",{children:"Table editor"}),Object(g.jsx)(u.a,{children:Object(g.jsxs)(h.a,{"aria-label":"Basic example",children:[Object(g.jsx)(j.a,{variant:"success",onClick:this.openEditor,"data-index":"-1",title:"Add employer",children:"Add"}),Object(g.jsx)(j.a,{variant:"danger",onClick:this.deleteEmployer,children:"Delete"})]})}),Object(g.jsx)("div",{children:Object(g.jsxs)(b.a,{className:"my-1 p-3",children:[Object(g.jsx)(m.a,{col:"12 lg-6",className:"panel",children:Object(g.jsx)(f,{peoples:this.state.peoples,openEditor:this.openEditor})}),Object(g.jsxs)(m.a,{col:"12 lg-6",className:"card",children:["Editor",Object(g.jsx)(C,{onSaveClick:this.save,onNameChange:this.onNameChange,onTypeChange:this.onTypeChange,onChange:this.onColorChange,type:this.state.type,name:this.state.name,value:this.state.value})]})]})})]})}}]),a}(s.a.Component);a(59);r.a.render(Object(g.jsx)(S,{}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.c087818a.chunk.js.map